<!-- Header réutilisable -->
<app-header></app-header>

<!-- Section Hero avec slider -->
<section class="hero">
  <div class="hero-slider">
    <div class="hero-slide" 
         *ngFor="let slide of heroSlides; let i = index" 
         [class.active]="i === currentSlide"
         [style.background-image]="'url(' + slide.image + ')'">
      <div class="hero-overlay"></div>
      <div class="hero-content">
        <h2>{{ slide.title }}</h2>
        <p>{{ slide.subtitle }}</p>
        <div class="hero-actions">
          <button class="btn btn-primary" [routerLink]="slide.primaryAction.link">{{ slide.primaryAction.text }}</button>
          <button class="btn btn-secondary" [routerLink]="slide.secondaryAction.link">{{ slide.secondaryAction.text }}</button>
        </div>
      </div>
    </div>
    
    <!-- Navigation du slider -->
    <div class="slider-nav">
      <button class="slider-btn prev" (click)="previousSlide()">
        <i class="fas fa-chevron-left"></i>
      </button>
      <button class="slider-btn next" (click)="nextSlide()">
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>
    
    <!-- Indicateurs -->
    <div class="slider-indicators">
      <button 
        *ngFor="let slide of heroSlides; let i = index" 
        class="indicator" 
        [class.active]="i === currentSlide"
        (click)="goToSlide(i)">
      </button>
    </div>
  </div>
</section>

<!-- Alertes importantes -->
<section class="alertes" *ngIf="alertesImportantes.length > 0">
  <div class="container">
    <h3>Alertes importantes</h3>
    <div class="alertes-grid">
      <div class="alerte" 
           *ngFor="let alerte of alertesImportantes" 
           [ngClass]="'alerte-' + alerte.type">
        <div class="alerte-icon">
          <i class="fas fa-exclamation-triangle" *ngIf="alerte.type === 'warning'"></i>
          <i class="fas fa-info-circle" *ngIf="alerte.type === 'info'"></i>
        </div>
        <div class="alerte-content">
          <h4>{{ alerte.titre }}</h4>
          <p>{{ alerte.message }}</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Mot du Maire -->
<section class="mot-maire">
  <div class="container">
    <div class="mot-maire-content">
      <div class="mot-maire-text">
        <h3>{{ motDuMaire.titre }}</h3>
        <p>{{ motDuMaire.contenu }}</p>
        <cite>{{ motDuMaire.auteur }}</cite>
      </div>
      <div class="mot-maire-image">
        <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=400&fit=crop&crop=face" alt="Photo du Maire" class="maire-photo">
      </div>
    </div>
  </div>
</section>

<!-- Dernières actualités -->
<section class="actualites">
  <div class="container">
    <h3>Dernières actualités</h3>
    <div class="actualites-grid">
      <article class="actualite-card" *ngFor="let actualite of dernieresActualites">
        <div class="actualite-image">
          <img [src]="actualite.image" [alt]="actualite.titre">
        </div>
        <div class="actualite-content">
          <h4>{{ actualite.titre }}</h4>
          <p>{{ actualite.resume }}</p>
          <span class="actualite-date">{{ actualite.date | date:'dd/MM/yyyy' }}</span>
        </div>
      </article>
    </div>
    <div class="actualites-actions">
      <button class="btn btn-outline" routerLink="/actualites">Voir toutes les actualités</button>
    </div>
  </div>
</section>

<!-- Projets en cours -->
<section class="projets">
  <div class="container">
    <h3>Projets en cours</h3>
    <div class="projets-grid">
      <div class="projet-card" *ngFor="let projet of projetsEnCours">
        <h4>{{ projet.nom }}</h4>
        <p>{{ projet.description }}</p>
        <div class="projet-progress">
          <div class="progress-bar">
            <div class="progress-fill" [style.width.%]="projet.progression"></div>
          </div>
          <span class="progress-text">{{ projet.progression }}%</span>
        </div>
        <p class="projet-date">Fin prévue : {{ projet.dateFinPrevue | date:'dd/MM/yyyy' }}</p>
      </div>
    </div>
  </div>
</section>

<!-- Services rapides -->
<section class="services-rapides">
  <div class="container">
    <h3>Services rapides</h3>
    <div class="services-grid">
      <a class="service-card" routerLink="/services-en-ligne">
        <i class="fas fa-file-alt"></i>
        <h4>Demande d'acte</h4>
        <p>Acte de naissance, mariage, décès</p>
      </a>
      <a class="service-card" routerLink="/services-en-ligne">
        <i class="fas fa-calendar-check"></i>
        <h4>Rendez-vous</h4>
        <p>Prendre un rendez-vous en ligne</p>
      </a>
      <a class="service-card" routerLink="/espace-citoyen">
        <i class="fas fa-exclamation-triangle"></i>
        <h4>Signalement</h4>
        <p>Signaler un problème</p>
      </a>
      <a class="service-card" routerLink="/demarches">
        <i class="fas fa-building"></i>
        <h4>Urbanisme</h4>
        <p>Permis de construire</p>
      </a>
    </div>
  </div>
</section>

<!-- Footer réutilisable -->
<app-footer></app-footer>
